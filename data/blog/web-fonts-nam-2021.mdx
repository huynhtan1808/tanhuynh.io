---
title: 'Web Fonts năm 2021' 
publishedAt: '2021-05-14'
summary: "Tìm hiểu các phương pháp hay nhất cho các trang web hiệu suất cao sử dụng phông chữ web, được cập nhật cho năm 2021."
---

<Image
  alt={`Web Fonts`}
  src={`/static/images/fonts/banner.png`}
  width={1080}
  height={617}
  priority
/>

Kiểu chữ chiếm 95% trong thiết kế web. Lựa chọn phông chữ của bạn có thể rất quan trọng đối với việc xây dựng thương hiệu, khả năng đọc và hiệu suất.

Theo thời gian, các khuyến nghị sử dụng phông chữ web đã thay đổi khi các trình duyệt áp dụng các tiêu chuẩn mới. Bây giờ vào năm 2021, tôi muốn tìm hiểu các phương pháp hay nhất để sử dụng phông chữ web trên các trang web hiệu suất cao.

Phông chữ Hệ thống
Cách nhanh nhất để sử dụng phông chữ web là không có. Các trình duyệt bao gồm một tập hợp các phông chữ an toàn cho web (ví dụ: Arial, Georgia, Times New Roman) mà bạn có thể sử dụng theo mặc định.

Sử dụng phông chữ an toàn cho web hoặc ngăn xếp phông chữ hệ thống sẽ là lựa chọn nhanh nhất.
``` css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial,
  sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
```
## Tại sao sử dụng Phông chữ Web?
Nếu phông chữ hệ thống là lựa chọn nhanh nhất, tại sao phông chữ web lại tồn tại? Xây dựng thương hiệu, thiết kế cải tiến và tính nhất quán giữa các trình duyệt và thiết bị. 82% các trang web dành cho máy tính để bàn sử dụng phông chữ web.

Hãy đề cập đến năm lĩnh vực khác nhau cho các phông chữ web hiệu suất cao và kết thúc với một đề xuất năm 2021.

- Tự lưu trữ
- Tải trước
- Hiển thị phông chữ
- Phông chữ có thể thay đổi
- Thiết lập con

## Tự lưu trữ

Google Fonts chịu trách nhiệm cho 70% việc sử dụng phông chữ trên web. Với hơn 1000 phông chữ, chúng cung cấp khả năng truy cập dễ dàng vào phông chữ chất lượng, nhiều định dạng và mặc định hiệu quả (kết nối trước và hoán đổi).

Tuy nhiên, Google Fonts không còn cần thiết nữa. Kể từ năm 2018, Google đã khuyên bạn nên tự lưu trữ để có hiệu suất tối ưu thông qua tải trước.

Không còn bất kỳ lợi thế nào về bộ nhớ đệm nữa. Giả sử bạn đang sử dụng phông chữ "Roboto", đây là một phông chữ phổ biến trên Google Fonts. Rất có thể bạn đã truy cập một trang web khác bằng cách sử dụng "Roboto" và đã lưu vào bộ nhớ cache phông chữ.

Kể từ tháng 10 năm 2020, Chrome không còn cho phép bộ nhớ cache được chia sẻ trên các trang web nữa. Safari đã hoạt động theo cách này kể từ năm 2013. "Roboto" sẽ được tải xuống lại cho mọi trang web, bất kể nó có được lưu vào bộ nhớ đệm hay không.

Khi tự lưu trữ, hãy đảm bảo bạn lưu vào bộ đệm phông chữ của mình bằng tiêu đề HTTP Cache-Control. Immutable cho trình duyệt biết rằng tệp sẽ không bao giờ thay đổi. Khi một yêu cầu được đưa ra trong độ tuổi tối đa (1 tuổi), yêu cầu này sẽ tránh vòng vo để đảm bảo đó là nội dung mới nhất.

```bash
Cache-Control: public, immutable, max-age=31536000
```

Nếu bạn cần Google Fonts, hãy sử dụng những tối ưu hóa này. Với những thay đổi mới nhất trong API v2, bạn có thể điều chỉnh phông chữ cho phù hợp với người dùng và nền tảng cụ thể (bao gồm cả phông chữ có thể thay đổi).

## Tải trước

Trình duyệt chỉ định mức độ ưu tiên tải cho các loại tài nguyên khác nhau. Theo mặc định, CSS sẽ được tải trước tập lệnh và hình ảnh. Bạn có thể ảnh hưởng đến tầm quan trọng của tài nguyên bằng cách tải trước các tài sản quan trọng.

Phông chữ được trình duyệt phát hiện muộn theo mặc định. Bằng cách tải trước, chúng tôi tìm nạp tệp phông chữ càng sớm càng tốt. Sau đó, trình duyệt lưu vào bộ nhớ cache của phông chữ làm cho nó có sẵn ngay lập tức.

Tải trước có thể cải thiện các chỉ số hiệu suất như Thời gian tương tác và Sơn nội dung đầu tiên. Ví dụ: Shopify đã thấy sự cải thiện 50% (1,2 giây) trong First Contentful Paint, loại bỏ Flash of Invisible Text (FOIT) của họ.

Tính đến năm 2020, 75% phông chữ web sử dụng WOFF2. Bạn có thể chỉ cần cái này. Ví dụ:

```css
<link
	rel="preload"
	href="/fonts/inter-var-latin.woff2"
	as="font"
	type="font/woff2"
	crossOrigin="anonymous"
/>
```

> Hỗ trợ: Tất cả các trình duyệt hiện đại ngoại trừ Firefox.

## Hiển thị phông chữ
`font-display` cho phép bạn sửa đổi hành vi kết xuất của phông chữ web với các giá trị như tự động, hoán đổi, khối, dự phòng và tùy chọn. Khi tải phông chữ web, chúng tôi muốn ngăn chặn sự thay đổi bố cục. Điều này xảy ra theo hai cách:

- Flash of Unstyled Text (FOUT) - Phông chữ dự phòng được hoán đổi bằng một phông chữ mới (ví dụ: hoán đổi).
- Flash of Invisible Text (FOIT) - Văn bản ẩn được hiển thị trên trang cho đến khi một phông chữ mới được hiển thị (ví dụ: khối).

Các trình duyệt hiện có chiến lược mặc định tương tự như chặn. Tùy chọn duy nhất loại bỏ sự thay đổi bố cục là tùy chọn. Kết hợp với các tối ưu hóa hiệu suất khác trong bài viết này, tùy chọn là lựa chọn tốt nhất của bạn.

```css
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-display: optional;
  src: url(/fonts/inter-var-latin.woff2) format('woff2');
}
```
> Hỗ trợ: Tất cả các trình duyệt hiện đại

## Phông chữ có thể thay đổi

Phông chữ có thể thay đổi cho phép chúng tôi kết hợp nhiều kiểu và độ đậm (ví dụ: đậm, nghiêng) vào một tệp phông chữ duy nhất.

```css
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 100 900; // Range of weights supported
  font-display: optional;
  src: url(/fonts/inter-var-latin.woff2) format('woff2');
}
```

Bạn có thể thử các tùy chọn phông chữ có thể thay đổi khác nhau tại [đây](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Fonts/Variable_Fonts_Guide).

> Hỗ trợ: Tất cả các trình duyệt hiện đại. Ngay cả API Google Fonts v2 cũng có hỗ trợ cho các phông chữ biến đổi.

## Cài đặt con

Tệp phông chữ chứa nhiều ngôn ngữ và glyphs, làm tăng kích thước tệp. Thiết lập con là loại bỏ các ký tự bạn không cần.

Ví dụ: chúng tôi có thể sử dụng phông chữ Inter biến và tập hợp con cho các ngôn ngữ latin.

```css
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 100 900; // Range of weights supported
  font-display: optional;
  src: url(/fonts/inter-var-latin.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,
    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,
    U+FEFF, U+FFFD;
}
```
## Phần kết luận

1. Sử dụng một phông chữ có thể thay đổi
2. Tải trước tệp phông chữ của bạn
3. Tự lưu trữ thay vì Phông chữ Google
4. Sử dụng `font-display: option` để ngăn thay đổi bố cục

[Đây là ví dụ] (https://github.com/leerob/leerob.io) của một trang web triển khai tất cả các đề xuất này.

## Tương lai

Nếu bạn cần sử dụng `font-display: swap`, hỗ trợ trong tương lai cho [Ghi đè số liệu phông chữ] (https://www.youtube.com/watch?t=176&v=Z6wjUOSh9Tk&feature=youtu.be) sẽ giảm bớt sự thay đổi bố cục khi hoán đổi .

```css
@font-face {
  font-family: ...;
  src: ...;
  ascent-override: 80%;
  descent-override: 20%;
  line-gap-override: 0%;
  ...;
}
```